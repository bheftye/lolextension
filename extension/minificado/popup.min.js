function getSummonerInfo(){if(""!=$("#summname").val()){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(document.getElementById("elemento").innerHTML=JSON.parse(e.responseText),$("#share_button").removeClass("hidden-xs"))},e.open("GET","http://localhost:8888/lolextension/servidor/index.php?summ="+$("#summname").val()+"&serv="+$("#server").val(),!0),e.send()}return!1}function shareSearch(){$("form").hide(),html2canvas(document.body,{onrendered:function(e){var t=e.toDataURL();console.log(t);var n=new FormData;n.append("img",t),jQuery.ajax({type:"POST",async:!1,contentType:!1,processData:!1,cache:!1,url:"http://brentheftye.mx/lolextension/servidor/img_handler.php",data:n,success:function(e){-1!=e.indexOf("Unable")||""==e,social_img=JSON.parse(e),social_img=social_img.replace("./","/"),shareFacebook()}})}})}function shareFacebook(){console.log("http://brentheftye.mx/lolextension/servidor"+social_img),window.open("https://www.facebook.com/dialog/feed?app_id=910381132337065&display=popup&caption="+encodeURIComponent(social_title)+"&link=http://brentheftye.mx/lolextension/servidor"+social_img+"&redirect_uri=http://brentheftye.mx/lolextension/servidor"+social_img+"&picture="+encodeURIComponent("http://brentheftye.mx/lolextension/servidor"+social_img),"Share Facebook","height=300,width=600")}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("submit_button");e.addEventListener("click",function(){getSummonerInfo()})}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("share_button");e.addEventListener("click",function(){shareSearch()})});var social_title="League of Legends Extension",social_img="";window.onload=function(){elt=document.createElement("iframe"),elt.id="facebook_load_frame",elt.src="http://brentheftye.mx/lolextension/servidor/iframe.html",document.getElementsByTagName("body")[0].appendChild(elt)};var eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventer=window[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message";eventer(messageEvent,function(e){console.log("Connection status: "+e.data.connectStatus+"; UserID: "+e.data.userID+"; AccessToken: "+e.data.accessToken)},!1);